{% extends 'base.html' %}

{% block content %}
    <h1>{{ member.username }}의 프로필 페이지</h1>

    <div>
        <h2>username : {{ member.username }}</h2>
        <h3>팔로워 수 : {{member.follow.all.count}}</h3>
        <h3>팔로우 수 : {{member.follows.all.count}}</h3>
        <h3>가입일 : {{member.date_joined|date:'Y.m.d'}}</h3>

        {% if request.user != member %}
            <form action="{% url 'accounts:follow' member.pk %}" method="POST">
                {% csrf_token %}
                {% if request.user in member.follow.all %}
                    <input type="submit" value="언팔로우">
                {% else %}
                    <input type="submit" value="팔로우">
                {% endif %}
            </form>
        {% endif %}

        <h3>{{member.username}}님이 등록한 상품</h3>
        {% for product in products %}
            <div>
                {{product.title}}
            </div>
        {% endfor %}

        <h3>{{member.username}}님이 찜한 상품</h3>

    </div>

    <a href="{% url 'products:list' %}">홈으로 돌아가기</a>

{% endblock content %}



